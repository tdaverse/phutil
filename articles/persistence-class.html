<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>The persistence class • phutil</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="persistence-class_files/libs/quarto-html/popper.min.js"></script><script src="persistence-class_files/libs/quarto-html/tippy.umd.min.js"></script><link href="persistence-class_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="persistence-class_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The persistence class">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">phutil</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/persistence-class.html">The persistence class</a></li>
    <li><a class="dropdown-item" href="../articles/validation-benchmark.html">Validation and Benchmark of Wasserstein Distances</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tdaverse/phutil/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>The persistence class</h1>




      <small class="dont-index">Source: <a href="https://github.com/tdaverse/phutil/blob/main/vignettes/persistence-class.qmd" class="external-link"><code>vignettes/persistence-class.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tdaverse/phutil" class="external-link">phutil</a></span><span class="op">)</span></span></code></pre></div>
</div>
<section class="level2"><h2 id="structure-of-the-class">Structure of the class<a class="anchor" aria-label="anchor" href="#structure-of-the-class"></a>
</h2>
<p>An object of class <code>persistence</code> is a list of 2 elements:</p>
<ul>
<li><p><code>pairs</code>: A list of 2-column matrices containing birth-death pairs. The <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>-<em>th</em> element of the list corresponds to the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(i-1)</annotation></semantics></math>-<em>th</em> homology dimension. If there is no pairs for a given dimension but there are pairs in higher dimensions, the corresponding element(s) is/are filled with a numeric matrix with 0 rows.</p></li>
<li>
<p><code>metadata</code>: A list of length 6 containing information about how the data was computed:</p>
<ul>
<li>
<code>orderered_pairs</code>: A boolean indicating whether the pairs in the <code>pairs</code> list are ordered (i.e. the first column is strictly less than the second column).</li>
<li>
<code>data</code>: The name of the object containing the original data on which the persistence data was computed.</li>
<li>
<code>engine</code>: The name of the package and the function of this package that computed the persistence data in the form <code>"package_name::package_function"</code>.</li>
<li>
<code>filtration</code>: The filtration used in the computation in a human-readable format (i.e. full names, capitals where needed, etc.).</li>
<li>
<code>parameters</code>: A list of parameters used in the computation.</li>
<li>
<code>call</code>: The exact call that generated the persistence data.</li>
</ul>
</li>
</ul></section><section class="level2"><h2 id="supported-inputs">Supported inputs<a class="anchor" aria-label="anchor" href="#supported-inputs"></a>
</h2>
<p>The <code>persistence</code> class is designed to support a variety of inputs, including</p>
<dl>
<dt>A single numeric matrix</dt>
<dd>
<p>If the user provides a matrix, it must have at least 2 columns and each row represents a topological feature.</p>
</dd>
</dl>
<ul>
<li><p>If it has 2 columns, we assume that the first column corresponds to the birth of a feature and the second column corresponds to the death of a feature, irrespective of the order of the columns. In this case, we assume that the homology dimension of the feature is 0.</p></li>
<li><p>If it has more than 2 columns, we assume that the first column corresponds to the homology dimension of the feature, the second column corresponds to the birth of a feature, and the third column corresponds to the death of a feature, irrespective of the order of the columns. The remaining columns are ignored.</p></li>
</ul>
<dl>
<dt>A list of numeric matrices</dt>
<dd>
<p>If the user provides a list of matrices, each list element corresponds to an homology dimension, from 0 to some maximum value. Each matrix must have at least 2 columns and each row represents a topological feature in the corresponding homology dimension (given by the matrix index in the list minus 1). Each matrix is parsed as described above.</p>
</dd>
<dt>A dataframe</dt>
<dd>
<p>If the user provides an object of class <code>data.frame</code>, it must have at least 2 columns and each row represents a topological feature. If it has exactly 2 columns, we add a <code>dimension</code> column with all values set to 0. If it has more than 2 columns, we require that <code>birth</code> and <code>death</code> exist in the column names. The <code>birth</code> and <code>death</code> columns are parsed as described above. The remaining columns are ignored.</p>
</dd>
<dt>An object of class ‘PHom’</dt>
<dd>
<p>If the user provides an object of class ‘PHom’ as typically produced by <code>ripserr::vietoris_rips()</code>, it means that it is a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">base::data.frame</a></code> with columns <code>dimension</code>, <code>birth</code>, and <code>death</code> in that specific order. The <code>dimension</code> column is of type integer while the <code>birth</code> and <code>death</code> columns are of type numeric. The <code>dimension</code> column is used to create a list of matrices, where each matrix corresponds to an homology dimension, from 0 to the maximum value in the <code>dimension</code> column.</p>
</dd>
<dt>An object of class ‘diagram’</dt>
<dd>
<p>If the user provides an object of class ‘diagram’ as typically produced by <code>TDA::*Diag()</code> functions in entry <code>diagram</code>, it means that it is a <code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">base::matrix</a></code> with 3 columns with names <code>dimension</code>, <code>Birth</code> and <code>Death</code> in that specific order. The <code>dimension</code> column is of type integer while the <code>Birth</code> and <code>Death</code> columns are of type numeric. Furthermore, the object stores as attributes the parameters used to compute the diagram and the entire call to the function that produced the diagram. We first lowercase <code>Birth</code> and <code>Death</code>. Next, the <code>dimension</code> column is used to create a list of matrices, where each matrix corresponds to an homology dimension, from 0 to the maximum value in the <code>dimension</code> column. The <code>birth</code> and <code>death</code> columns are parsed as described above. The remaining columns are ignored.</p>
</dd>
<dt>An object of class ‘hclust’</dt>
<dd>
<p>If the user provides an object of class ‘hclust’ as typically produced by <code><a href="https://rdrr.io/r/stats/hclust.html" class="external-link">stats::hclust()</a></code>, it means that it is a <code><a href="https://rdrr.io/r/base/list.html" class="external-link">base::list</a></code> which contains the <code>height</code> element which is a set of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n−1</annotation></semantics></math> real values (non-decreasing for ultrametric trees) storing the clustering height, that is, the value of the criterion associated with the clustering method for the particular agglomeration. This is used as homological feature death while a birth of <code>0</code> is typically used.</p>
</dd>
</dl></section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Aymeric Stamm, Jason Cory Brunson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
